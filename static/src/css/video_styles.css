/* Video container styles */
.o_custom_video_container {
    display: block !important;
    position: relative;
    max-width: 100%;
    margin: 0 auto;
}

/* Responsive video wrapper */
.o_custom_video_container video {
    display: block;
    width: 100%;
    height: auto;
    max-width: 100%;
}

/* Hide video controls */
video.no-controls {
    pointer-events: none !important;
}

video.no-controls::-webkit-media-controls {
    display: none !important;
}

video.no-controls::-webkit-media-controls-panel {
    display: none !important;
}

video.no-controls::-webkit-media-controls-play-button {
    display: none !important;
}

video.no-controls::-webkit-media-controls-start-playback-button {
    display: none !important;
}

video.no-controls::-moz-media-controls {
    display: none !important;
}

/* Ensure local videos appear in content editor */
.o_editable .o_custom_video_container {
    min-height: 200px;
    background: #000;
}

/* Fix for background videos */
.o_background_video .o_custom_video_container,
.o_bg_video_container .o_custom_video_container {
    position: absolute !important;
    top: 0;
    left: 0;
    width: 100% !important;
    height: 100% !important;
    padding-bottom: 0 !important;
}

.o_background_video .o_custom_video_container video,
.o_bg_video_container .o_custom_video_container video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover !important;
}

/* Ensure videos are visible */
.o_custom_video_container[data-is-local-video="true"] {
    visibility: visible !important;
    opacity: 1 !important;
}

/* Fix for editor preview */
.o_video_preview .o_custom_video_container {
    width: 100%;
    height: 100%;
}

.o_video_preview video {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

/* Frontend display fixes */
.o_video.o_custom_video_container {
    display: block !important;
    width: 100% !important;
}

/* Ensure video tag is always visible */
.o_custom_video_container video {
    visibility: visible !important;
    display: block !important;
}

/* Fix for aspect ratio containers */
.o_custom_video_container[style*="padding-bottom"] video {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

/* Ensure background videos work properly */
.o_we_background_video video {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    transform: translateX(-50%) translateY(-50%);
    background: #000;
    object-fit: cover;
}

/* Hide the fake img we added to prevent null.src */
.o_we_background_video_fallback {
    display: none !important;
}